$active-border-width: 0.125rem;
$burger-border-width: 0.125rem;

// header
.#{$namespace}header {
  height: 2.75rem;
  margin: 0 auto;
  max-width: $desktop;
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  user-select: none;

  .#{$namespace}container {
    height: 100%;
    position: relative;
  }

  .#{$namespace}takeover-toggle {
    height: 100%;
    line-height: 1.25;
    padding: $space-1;
    position: absolute;
    right: 0;
    top: 0;
  }
}

.#{$namespace}header-bg {
  -webkit-backdrop-filter: blur(20px);
  background: rgba($snow, 0.98);
}

// header: brand and logo
.#{$namespace}brand {
  height: 100%;
  padding: ($space-1 * 0.5) $space-1;
  text-align: center;

  a,
  img {
    display: inline-block;
    height: 100%;
    max-width: 9.375rem;
  }
}

// header: menu and nav
.#{$namespace}menu {
  left: 0;
  position: absolute;
  top: 0;
  transform: translate(-100%, 0%);
  transition: transform 0.25s ease-in-out;
  width: 80%;
  will-change: transform;
  z-index: 2;

  .#{$namespace}nav {
    background: $sky;
    display: block;
    height: 100vh;
    padding-top: 2.75rem;
    width: 100%;

    a {
      color: $snow;
      font-size: 1rem;
      font-weight: 600;
      margin: $active-border-width 0;
      padding: ($space-2 - $active-border-width);
      text-transform: uppercase;
      transition: background-color 0.25s linear;
      will-change: background-color;

      &:active {
        background-color: $darken-2;
      }

      &.#{$namespace}is-active {
        border-left: $active-border-width solid $snow;
      }
    }
  }

  .#{$namespace}toggle {
    left: 100%;
    position: absolute;
    top: 0;
    transform: translate(0%, 0%);
    transition: transform 0.25s linear;
    will-change: transform;
  }

  &.#{$namespace}is-open {
    transform: translate(0%, 0%);

    .#{$namespace}toggle {
      transform: translate(-100%, 0%);
    }
  }
}

// header: toggle
.#{$namespace}toggle {
  background: none;
  border: 0;
  cursor: pointer;
  display: block;
  margin: 0;
  padding: 1.375rem 0.75rem;

  &:focus {
    outline: none;
  }
}

// header: burger (in toggle)
.#{$namespace}burger {
  background: $sky;
  display: block;
  height: $burger-border-width;
  position: relative;
  transition: background 0.35s ease-out;
  width: $space-2;
  will-change: background;

  &::before,
  &::after {
    background: $sky;
    content: ' ';
    display: block;
    height: $burger-border-width;
    margin-top: -$burger-border-width;
    position: relative;
    transform: translate(0, -0.375rem);
    transition: all 0.35s ease-out;
    width: 100%;
    will-change: background, transform;
  }

  &::after {
    transform: translate(0, 0.375rem);
  }

  &.#{$namespace}is-closed {
    background: transparent;

    &::before {
      background: $snow;
      transform: rotate(45deg);
    }

    &::after {
      background: $snow;
      transform: rotate(-45deg);
    }
  }
}

// header: curtain
.#{$namespace}curtain {
  -webkit-backdrop-filter: blur(3px);
  background: $darken-4;
  height: 0;
  left: 0;
  opacity: 0;
  position: absolute;
  top: 0;
  transition: opacity 0.25s linear;
  will-change: opacity;

  &.#{$namespace}is-open {
    height: 100vh;
    opacity: 1;
    right: 0;
    z-index: 1;
  }
}

// tablet and up
@media (min-width: $tablet + 4.5em) {
  .#{$namespace}header {
    height: 3.875rem;

    .#{$namespace}container {
      padding-left: $space-1;
      padding-right: $space-1;
    }

    .#{$namespace}takeover-toggle {
      padding: $space-2;
    }
  }

  .#{$namespace}brand {
    clear: none;
    float: left;
  }

  .#{$namespace}menu {
    clear: none;
    float: left;
    left: auto;
    margin-left: $space-2;
    position: relative;
    top: auto;
    transform: none;
    transition: none;
    width: auto;

    &.#{$namespace}is-open {
      background: none;
      height: auto;
      transform: none;
      width: auto;
    }

    .#{$namespace}nav {
      background: none;
      display: block;
      height: auto;
      padding-top: 0;
      width: auto;

      li {
        clear: none;
        float: left;
      }

      a {
        color: $smoke;
        margin: $active-border-width $space-1;
        padding: ($space-2 - ($active-border-width * 2)) $space-1;

        &.#{$namespace}is-active {
          border-left: 0;
          border-top: $active-border-width solid $sky;
          margin-top: 0;
        }
      }
    }

    .#{$namespace}toggle {
      display: none;
    }
  }

  .#{$namespace}curtain {
    display: none;
  }
}

@media (min-width: $desktop) {
  .#{$namespace}header {
    padding-left: $space-2;
    padding-right: $space-2;
  }
}
